@model IEnumerable<ElectronicShop.StorehouseItem>

@{
    ViewBag.Title = "Index";
}

<h3>Оформлення продажу</h3>
<h3 style="color: red">@ViewBag.ErrorMessage</h3>
<h3 style="color: chartreuse">@ViewBag.Message</h3>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-group">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        @Html.Label("Прізвище покупця")
        @Html.Editor("surname", new { @Value = "" })
        @Html.Label("Ім'я покупця")
        @Html.Editor("name", new { @Value = "" })

        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Consignment.Item.Category.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Consignment.Item.Producer.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Consignment.Item.Model)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Price)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Quantity)
                </th>
                <th>
                    @Html.Label("Кількість")
                </th>

                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Consignment.Item.Category.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Consignment.Item.Producer.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Consignment.Item.Model)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Price)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Quantity)
                    </td>
                    <td>
                        @Html.TextBox("quantities")
                    </td>
                    <td>
                        @if (User.IsInRole("Seller") || User.IsInRole("Manager"))
                        {
                            @Html.ActionLink("Запит на склад |", "CreateRequest", new { id = item.StorehouseItemId })
                        }
                        @if (User.IsInRole("Manager"))
                        {
                            @Html.ActionLink("Змінити дані |", "Edit", new { id = item.StorehouseItemId })
                        }
                        @Html.ActionLink("Деталі товару", "Details", new { id = item.StorehouseItemId })
                    </td>
                </tr>
            }

        </table>

        <div style="position: fixed; top: 90%; ">
            <input type="submit" value="Зберегти" style="margin-left: 1200px; background-color: blue; width: 100px; font-size: 18px; color: chartreuse" class="btn btn-default" />
        </div>
    </div>
}